{"version":3,"file":"dirty-palm-oil.min.js","sources":["../../../../src/utils/get-max.js","../../../../src/utils/format.js","../../../../src/utils/sidebar.js","../../../../src/dirty-palm-oil.js"],"sourcesContent":["export function getMax(data, field) {\n  let max = 0;\n  data.forEach((d) => {\n    if (d[field] > max) max = d[field];\n  });\n  return max;\n}\n","export function format(val) {\n  if (val / 1000000000 > 1) {\n    // Billions\n    return `\\$${Math.round(val / 100000000) / 10}B`;\n  } else if (val / 1000000 > 1) {\n    // Millions\n    return `\\$${Math.round(val / 100000) / 10}M`;\n  }\n  // Thousands\n  return `\\$${Math.round(val / 100) / 10}K`;\n}\n","import { getMax } from \"./get-max.js\";\nimport { format } from \"./format.js\";\n/**\n *\n * @param {[]} data Requires data = [{ label: \"BlackRock\", value: 1533193730.0 }, ...]\n */\n\nexport function sidebar(data, maxValue) {\n  let chart = document.createElement(\"ol\");\n  chart.classList.add(\"sidebar\");\n  let max;\n  if (!maxValue) {\n    max = getMax(data, \"value\");\n  } else {\n    max = maxValue;\n  }\n  data.forEach((d) => {\n    const row = document.createElement(\"li\");\n    row.classList.add(\"sidebar__row\");\n    if (d.highlight) row.classList.add(\"sidebar__row--highlight\");\n    const width = Math.round((d.value / max) * 100);\n    let labelClass = width <= 50 ? \"sidebar__bar--label-outside\" : \"\";\n    row.innerHTML = `<p class=\"sidebar__label\"><a class=\"profile-link\" href=\"#\">${d.label}</a></p>\n    <div class=\"sidebar__bar ${labelClass}\">\n      <div style=\"width:${width}%;\" class=\"sidebar__bar-inner\">\n        <span>${format(d.value)}</span>\n      </div>\n    </div>`;\n    chart.appendChild(row);\n  });\n\n  return chart;\n}\n","import { sidebar } from \"./utils/sidebar.js\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function (e) {\n  const data = [\n    {\n      label: \"Batu Kawan\",\n      data: [\n        {\n          label: \"Borneo Taiko Clay Sdn Bhd.\",\n          value: 1760000000,\n        },\n        {\n          label: \"Kuala Lumpur Kepong\",\n          value: 1500000000,\n          highlight: true,\n        },\n        {\n          label: \"TMK PJSC\",\n          value: 995000000,\n        },\n        {\n          label: \"Mitsubishi Gas Chemical\",\n          value: 450000000,\n        },\n        {\n          label: \"Astra Agro\",\n          value: 104000000,\n        },\n      ],\n    },\n    {\n      label: \"Astra Agro\",\n      data: [\n        {\n          label: \"Astra Graphia Tbk.\",\n          value: 1760000000,\n        },\n        {\n          label: \"Astra International\",\n          value: 1650000000,\n        },\n        {\n          label: \"Astra Otoparts Tbk\",\n          value: 400000000,\n        },\n        {\n          label: \"Grokul Agro Resources\",\n          value: 200000000,\n        },\n        {\n          label: \"Eagle High Plantations\",\n          value: 124000000,\n          highlight: true,\n        },\n      ],\n    },\n    {\n      label: \"Indofood\",\n      data: [\n        {\n          label: \"Indomobil Sukses Int.\",\n          value: 234000000,\n        },\n      ],\n    },\n    { label: \"Anglo Eastern\" },\n    { label: \"IJM\" },\n  ];\n  const mainContainer = document.querySelector(\"#container\");\n  const max = 1800000000;\n  data.forEach((d) => {\n    const chartContainer = document.createElement(\"div\");\n    chartContainer.classList.add(\"container__subchart\");\n    const chartLabel = document.createElement(\"h3\");\n    chartLabel.classList.add(\"chart-sublabel\");\n    chartLabel.innerText = d.label;\n    chartContainer.appendChild(chartLabel);\n\n    if (d.data) {\n      d.data.sort((a, b) => b.value - a.value);\n      const chart = sidebar(d.data, max);\n      chartContainer.append(chart);\n    } else {\n      const noData = document.createElement(\"p\");\n      noData.classList.add(\"no-data\");\n      noData.innerText = \"No data available\";\n      chartContainer.appendChild(noData);\n    }\n    mainContainer.append(chartContainer);\n  });\n});\n"],"names":[],"mappings":";;;EAAO,SAAS,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE;EACpC,EAAE,IAAI,GAAG,GAAG,CAAC,CAAC;EACd,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK;EACtB,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;EACvC,GAAG,CAAC,CAAC;EACL,EAAE,OAAO,GAAG,CAAC;EACb;;ECNO,SAAS,MAAM,CAAC,GAAG,EAAE;EAC5B,EAAE,IAAI,GAAG,GAAG,UAAU,GAAG,CAAC,EAAE;EAC5B;EACA,IAAI,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EACpD,GAAG,MAAM,IAAI,GAAG,GAAG,OAAO,GAAG,CAAC,EAAE;EAChC;EACA,IAAI,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EACjD,GAAG;EACH;EACA,EAAE,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EAC5C,CAAC;;ECRD;EACA;EACA;EACA;AACA;AACA,EAAO,SAAS,OAAO,CAAC,IAAI,EAAE,QAAQ,EAAE;EACxC,EAAE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EAC3C,EAAE,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;EACjC,EAAE,IAAI,GAAG,CAAC;EACV,EAAE,IAAI,CAAC,QAAQ,EAAE;EACjB,IAAI,GAAG,GAAG,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;EAChC,GAAG,MAAM;EACT,IAAI,GAAG,GAAG,QAAQ,CAAC;EACnB,GAAG;EACH,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK;EACtB,IAAI,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EAC7C,IAAI,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;EACtC,IAAI,IAAI,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;EAClE,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,IAAI,GAAG,CAAC,CAAC;EACpD,IAAI,IAAI,UAAU,GAAG,KAAK,IAAI,EAAE,GAAG,6BAA6B,GAAG,EAAE,CAAC;EACtE,IAAI,GAAG,CAAC,SAAS,GAAG,CAAC,2DAA2D,EAAE,CAAC,CAAC,KAAK,CAAC;AAC1F,6BAA6B,EAAE,UAAU,CAAC;AAC1C,wBAAwB,EAAE,KAAK,CAAC;AAChC,cAAc,EAAE,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;AAChC;AACA,UAAU,CAAC,CAAC;EACZ,IAAI,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;EAC3B,GAAG,CAAC,CAAC;AACL;EACA,EAAE,OAAO,KAAK,CAAC;EACf,CAAC;;EC9BD,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,UAAU,CAAC,EAAE;EAC3D,EAAE,MAAM,IAAI,GAAG;EACf,IAAI;EACJ,MAAM,KAAK,EAAE,YAAY;EACzB,MAAM,IAAI,EAAE;EACZ,QAAQ;EACR,UAAU,KAAK,EAAE,4BAA4B;EAC7C,UAAU,KAAK,EAAE,UAAU;EAC3B,SAAS;EACT,QAAQ;EACR,UAAU,KAAK,EAAE,qBAAqB;EACtC,UAAU,KAAK,EAAE,UAAU;EAC3B,UAAU,SAAS,EAAE,IAAI;EACzB,SAAS;EACT,QAAQ;EACR,UAAU,KAAK,EAAE,UAAU;EAC3B,UAAU,KAAK,EAAE,SAAS;EAC1B,SAAS;EACT,QAAQ;EACR,UAAU,KAAK,EAAE,yBAAyB;EAC1C,UAAU,KAAK,EAAE,SAAS;EAC1B,SAAS;EACT,QAAQ;EACR,UAAU,KAAK,EAAE,YAAY;EAC7B,UAAU,KAAK,EAAE,SAAS;EAC1B,SAAS;EACT,OAAO;EACP,KAAK;EACL,IAAI;EACJ,MAAM,KAAK,EAAE,YAAY;EACzB,MAAM,IAAI,EAAE;EACZ,QAAQ;EACR,UAAU,KAAK,EAAE,oBAAoB;EACrC,UAAU,KAAK,EAAE,UAAU;EAC3B,SAAS;EACT,QAAQ;EACR,UAAU,KAAK,EAAE,qBAAqB;EACtC,UAAU,KAAK,EAAE,UAAU;EAC3B,SAAS;EACT,QAAQ;EACR,UAAU,KAAK,EAAE,oBAAoB;EACrC,UAAU,KAAK,EAAE,SAAS;EAC1B,SAAS;EACT,QAAQ;EACR,UAAU,KAAK,EAAE,uBAAuB;EACxC,UAAU,KAAK,EAAE,SAAS;EAC1B,SAAS;EACT,QAAQ;EACR,UAAU,KAAK,EAAE,wBAAwB;EACzC,UAAU,KAAK,EAAE,SAAS;EAC1B,UAAU,SAAS,EAAE,IAAI;EACzB,SAAS;EACT,OAAO;EACP,KAAK;EACL,IAAI;EACJ,MAAM,KAAK,EAAE,UAAU;EACvB,MAAM,IAAI,EAAE;EACZ,QAAQ;EACR,UAAU,KAAK,EAAE,uBAAuB;EACxC,UAAU,KAAK,EAAE,SAAS;EAC1B,SAAS;EACT,OAAO;EACP,KAAK;EACL,IAAI,EAAE,KAAK,EAAE,eAAe,EAAE;EAC9B,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;EACpB,GAAG,CAAC;EACJ,EAAE,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;EAC7D,EAAE,MAAM,GAAG,GAAG,UAAU,CAAC;EACzB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK;EACtB,IAAI,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;EACzD,IAAI,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;EACxD,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EACpD,IAAI,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;EAC/C,IAAI,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC,KAAK,CAAC;EACnC,IAAI,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AAC3C;EACA,IAAI,IAAI,CAAC,CAAC,IAAI,EAAE;EAChB,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;EAC/C,MAAM,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;EACzC,MAAM,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;EACnC,KAAK,MAAM;EACX,MAAM,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;EACjD,MAAM,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;EACtC,MAAM,MAAM,CAAC,SAAS,GAAG,mBAAmB,CAAC;EAC7C,MAAM,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;EACzC,KAAK;EACL,IAAI,aAAa,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;EACzC,GAAG,CAAC,CAAC;EACL,CAAC,CAAC,CAAC;;;;"}